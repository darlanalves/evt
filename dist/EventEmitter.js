!function(t){"use strict";function n(t){var n=String(t).replace(E,"").split(b);return n}function e(t){var n=this.$callbacks||(this.$callbacks={});return t?n[t]||(n[t]=[]):n}function r(t){if(!t.name)throw new Error("Missing event name");var n=e.call(this,t.name);return delete t.name,n.push(t),t}function i(t,e,r,i){if(!t||!e||"function"!=typeof e)return[];for(var a,s,o=n(t),c=[];;){if(a=o.shift(),void 0===a)break;s={name:a,callback:e,context:r||null,params:i},c.push(s)}return c}function a(t){return t.length>3?y.call(t,3):!1}function s(t,n,e){for(var s,o=a(arguments),c=i(t,n,e,o),u=this;;){if(s=c.shift(),void 0===s)break;r.call(this,s)}return function(){u.off(t,n,e)}}function o(t,n,e){for(var s,o=a(arguments),c=i(t,n,e,o);;){if(s=c.shift(),void 0===s)break;s.once=!0,r.call(this,s)}return function(){this.removeListeners(t,n,e)}}function c(t){return this.$callbacks&&this.$callbacks[t]?delete this.$callbacks[t]:!1}function u(t,n,r){if(!n)return c.call(this,t);var i,a=e.call(this,t),s=[],o=0,u=a.length;for(void 0===r&&(r=null);u>o;o++)i=a[o],(n!==i.callback||null!==r&&r!==i.context)&&s.push(a[o]);return this.$callbacks[t]=s,!0}function l(t,e,r){if(!t&&!e)return delete this.$callbacks,this;for(var i,a=n(t),s=!0;;){if(i=a.shift(),void 0===i)break;s=s&&u.call(this,i,e,r)}return s}function f(t,n){var r=e.call(this,t),i=r.length;if(0===i)return!0;for(var a,s=n.length,o=!0,c=0,l=[];i>c;c++)if(a=r[c],void 0!==a&&(l.length=0,a.params!==!1&&(l=l.concat(a.params)),0!==s&&(l=l.concat(n)),a.once&&u.call(this,t,a.callback,a.context),o=a.callback.apply(a.context,l),o===!1))return!1;return!0}function h(t,n,e){n.on(e,function(){var n=Array.prototype.slice.call(arguments);n.unshift(e),t.emit.apply(t,n)})}function v(t){if(this.pauseEvents)return this;for(var e,r=n(t),i=r.length,a=!0,s=arguments.length>1?y.call(arguments,1):[],o=0;i>o;o++)e=r[o],e&&(a=f.call(this,e,s));return a}function p(t){if("object"!=typeof t)throw new Error("Invalid target object for delegation");var n=["on","off","once","emit","getListeners"];return t.__events__=this,n.forEach(function(n){var e=t.__events__;this[n]=function(){var t=e[n];t.apply(e,arguments)}},t),this}function m(t,n){return Array.isArray(n)||(n=[n]),n.forEach(function(n){h(this,t,n)},this),this}function d(){return g}var g=function(){},y=Array.prototype.slice,b=/ |, /,E=/^\s+|\s+$/g;g.prototype={constructor:g,pauseEvents:!1,getListeners:function(){return e.apply(this,arguments)},clearListeners:l,on:s,off:l,emit:v,once:o,suspendEvents:function(){return this.pauseEvents=!0,this},resumeEvents:function(){return this.pauseEvents=!1,this},delegate:p,proxy:m},"undefined"!=typeof t.angular&&t.angular.module?t.angular.module("EventEmitter",[]).factory("EventEmitter",d):"function"==typeof define&&define.amd?define(d):"undefined"!=typeof module&&module.exports?module.exports=g:t.EventEmitter=g}(this);
//# sourceMappingURL=EventEmitter.js.map
